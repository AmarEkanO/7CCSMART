\documentclass{llncs}
\usepackage{graphicx}


\begin{document}

\institute{King's College London\\
	Department of Informatics,\\
	School of Natural and Mathematical Sciences}
\author{Amar Menezes (1435460)\\
\texttt{amar.menezes@kcl.ac.uk}}
\title{Achieving Internet Anonymity with Tor}
\date{November 2014}
\maketitle

\begin{abstract} 
	The objective of this review is to educate the reader on Internet privacy and anonymity. This review is intended for people interested in researching privacy enhancing technologies and/or designing such systems. We begin an overview of anonymity technologies and their design considerations. We follow it up with a detailed evaluation of the Tor network, attacks against it, how it defends itself against such attacks and how it compares with other existing low latency anonymity networks. We conclude with discussing some of the open issues with the Tor network in an effort to encourage the reader to take up some of the challenges. 
\end{abstract}

\section{Introduction} \label{intro}
Anonymity is derived from the Greek word anonymia, meaning "without a name" or "namelessness". Though accurate this definition does not really capture its essence. To be anonymous means to be non-identifiable, unreachable and untraceable. It is an enabler of values such as privacy and liberty. Upon which the foundations of democracy and freedom of speech are laid.

People seek anonymity on the internet for various reasons. Whistle-blowers exposing government or corporate misdoings, Human rights activists reporting abuse from areas of conflict, members of stigmatized groups seeking advice and help without the fear of being identified and ostracised, journalists reporting from countries with severe press censorship and normal people who wish to protect their privacy from unscrupulous marketeers and irresponsible corporations \cite{seekanonymity}.

Although this gives us a convincing argument for the need of internet anonymity. There are still people who do not understand the implications of a de-anonymized internet. The most popular argument against anonymity is the nothing-to-hide retort. This is naive and does not highlight the larger issues at stake. Having nothing to hide does not necessarily justify the need for others to know \cite{thechronicle}. 
The first casualties of a de-anonymized internet would be Privacy and Freedom of speech. By giving up our privacy we are allowing our governments to monitor our thoughts, actions and potentially every aspect of our lives. A not so benevolent government with such power can turn the dynamics of democracy. Voters would be held accountable for their actions instead of the government. This progression would eventually lead to a totalitarian state \cite{privateinternetaccess}. 

This review is organized as follows: In section \ref{intro} we begin with an introduction on the need for internet anonymity and the people that benefit from it. Section \ref{background} gives a chronological summary of the development of privacy enabling technologies and an overview of the present day technologies. In Section \ref{taxonomy} we describe a model to classify anonymity by its properties, the type of network and adversity capabilities.Section \ref{design} takes a look at the design considerations of an anonymous network, understanding the threat model, typical attacks against the network and defensive countermeasures. 
In Section \ref{tor} we review Tor, its design goals, assumptions and architecture. Section \ref{tor_attack_defence} we study the attacks against the Tor network and its defences.

Section \ref{comparison} does a comparative study of other popular anonymity networks with Tor. Section \ref{openissues} discusses the open issues with the Tor network and encourages the reader to take up some of these challenges. Finally we conclude in Section \ref{conclusion}

\section{Background} \label{background}
\subsection{Evolution of privacy enabling technologies}

In the mid 80's when the Internet was starting to take off, email was the primary form of electronic communication. The early efforts to bring internet privacy were focused on protecting email communications. David Chaum proposed a untraceable mail system where each message would be passed through a series of mixes before being delivered to its final destination. A mix was a computer system located along the path of communication. It would receive a message and process it in a way to remove identifying information about its origins and resend the message to its intended destination. Mixes would operate periodically collecting messages over a certain period of time and then outputting uniformly sized lexicographically ordered batches. This was done to prevent co-relation attacks on the inputs and outputs of a mix \cite{chaum-mix}. Such networks are known as mix networks.

Another privacy enabling primitive devised by David Chaum was Dining Cryptographers Network (or DC-nets) \cite{chaum-dc}. Unlike mix networks, DC-nets allow participants to broadcast their messages at the same time, with no participant-to-participant communication. This non-interactive approach although an attractive feature for system design, DC-nets relies on largely honest participants. A malicious participant could broadcast invalid messages or even drop out of the protocol entirely. The computational cost of making DC-nets fault tolerant to such attack has been prohibitively high, which is an impediment to its practical deployment. However some researchers have tried to come up with suitable alternatives \cite{golle:eurocrypt2004}.

The anon.penet.fi was probably the earliest and most famous of pseudonymous remailers. It would purge identifying headers form outbound remailed messages. It also supported recipient anonymity by providing the user with a random pseudonym. The remailer maintained a table that matched these assigned pseudonym with the user's real email address. These very early implementations of remailers were known as Type 0 remailers. Due to their rather simplistic design the user could be easily traced if the table maping the pseudonyms to real email addresses was compromised either by legal or illegal means.

Type I remailers (popularly known as Cyberpunk remailers) were designed to address this problem. It dropped the support for pseudonym tables. Secondly the remailer would accept encrypted email, decrypt it and remail it to its destination. This prevented an attacker try to perform message based co-relation on incoming and outgoing traffic. Type I remailers could be chained together to achieve a greater degree of anonymity. Chaining allows a message to be sent through multiple remailers before it is delivered to its destination. Each remailer in the network knows only about the previous remailer that sent it a message. Thus an attacker would have to compromise all the remailers in the network to trace a message. This allowed us to take advantage of using a distributed network of remailers, giving us security by numbers. Type I remailers could also reorder messages to prevent time based co-relation attacks on traffic.

Although an improvement over Type 0 remailers, Type I remailers had certain limitations, specifically their are susceptibility to size based correlation attacks and reply attacks. To mitigate these limitations 'Mixmaster' or Type II remailer was developed. Type II remailers always use chaining and each chain link is always encrypted. To prevent size based co-relation attacks messages are padded to a constant length. To prevent time based co-relation attacks continuously generated random traffic was inserted into the communication channel. To prevent replay attacks, Mixmaster 2.0 kept list of recent message IDs and would discard messages that it had received previously \cite{mixmaster-spec}.

Mixmaster was certainly superior to its predecessors Type 0 and Type I remailers, but it had certain functional limitations and security weaknesses. One major limitation of Mixmaster was the problem of replying to anonymous messages. To reply one had to resort to using the older and less secure Type I remailer. The defences against replay attacks were easily subverted. Mixmaster would cache the ID's of received messages but would store them for a fixed interval of time. An attacker would just have to wait till the entries expire and replay the messages. Mixmaster did not have a consistent way of distributing information about remailer availability, performance and encryption keys to participants. This allowed attackers to mount partitioning attacks to compromise remailer security. To address these issues Mixminion or Type III remailers were introduced \cite{minion-design}.

By 1997 remailers were well established as a privacy enabling technology. During that period researchers such as Ross Anderson and Adam Back were working on a platform that provided redundancy and resilience to censorship. Documents published via this platform could not be "unpublished". Anderson's proposed platform was called the Eternity Service \cite{anderson96eternity} which was later implemented by Back \cite{back:usenet}. Projects such as PipeNet\cite{pipenet10} and Onion Routing \cite{onion-routing:ih96} took the initiative to develop a platform for general internet anonymity. PipeNet was eventually shelved due to lack of interest and never made it past the design stages. Onion Routing on the other hand was a promising candidate to build low latency anonymous networks. Unlike PipeNet, Onion Routing leaned more towards performance and robustness. PipeNet preferred security over performance and would terminate its operation if its security was compromised in any way.

With more people using the Internet there has been a steady rise in the research for Internet privacy and anonymity. The Crowds network developed by Michael Reiter and Aviel Rubin at AT\&T Labs was one of the pioneering works in anonymizing web traffic \cite{crowds:tissec}. The users of Crowd would be grouped into large and geographically diverse groups. These groups would then collectively issue requests on behalf of its members. The idea was that to an observer the request could have come from any member of the Crowd network and even the members of the network would not be able to differentiate if the request was from the originator or just another member passing the message around the network.

In 2000 Zero-Knowledge Systems's Inc developed the Freedom Network \cite{freedom2-arch}, a PipeNet inspired project. Unlike Crowds, Freedom Network was intended to be a commercial venture and there were significant costs to running and maintaining nodes in the network. Freedom was a high quality anonymity network but due to its high cost of operation it received little user acceptance.


\subsection{Extant technologies in the 21st century}

At the turn of the 21st century the Internet and World Wide Web had grown by leaps and bounds. Various projects on anonymizing internet traffic were proposed \cite{goldberg97privacyenhancing} \cite{fiveyearslater}, but only a few survived. 
%\begin{itemize}
%	\item{FreeHaven, FreeNet and Publius: Eternity Service inspired networks}
%	\item{Tor: Second generation onion routing}
%\end{itemize}
\subsection{The rising popularity of Tor}
\begin{itemize}
	\item{Perfect forward secrecy}
	\item{low latency anonymity network}
	\item{approx 2000 relay nodes on the Internet: more than any other anonymizing network}
	\item{Existing internet applications can be used without modification (HTTP, IRC, FTP, SSH, etc)}
	\item{Availability of Hidden services}
	\item{Resilient to censorship}
\end{itemize}

\section{Describing Anonymity Technologies} \label{taxonomy}
\subsection{ Network topology}
\begin{itemize}
	\item{Wired networks}
	\subitem{Path topology: P2P, Cascade, Free}
	\subitem{Path Scheme: Unicast, Multicast, Broadcast}
	\subitem{Path Type: Cycle Free, Cycle}
	\item{Wireless networks}
	\subitem{Topology based}
	\subitem{Position based}
\end{itemize}
\subsection{Anonymity properties}
\begin{itemize}
	\item{Unidentifiability}
	\subitem{Sender Anonymity, Receiver Anonymity, Mutual Anonymity, Group Anonymity}
	\item{Unlinkability}
	\subitem{Location Anonymity, Communication Anonymity, Group Comm. Anonymity}
\end{itemize}
\subsection{Adversity capabilities}
\begin{itemize}
	\item{Reachability: Global or Local}
	\item{Attackability: Passive or Active}
	\item{Adaptability: Static or Dynamic}
\end{itemize}

\section{Design considerations for an anonymity network} \label{design}
\subsection{Understanding the threat model}
\begin{itemize}
	\item{Attacker capabilities}
	\item{Attack methodology}
	\item{Attackers goals: identifying or service blocking}
\end{itemize}
\subsection{Typical attack methods}
\begin{itemize}
	\item{Traffic analysis}
	\item{Timing attacks}
	\item{Watermark attack}
	\item{Predecessor attack}
	\item{Path selection attack}
	\item{Congestion attack}
	\item{Blocking attack}
\end{itemize}
\subsection{Anti-attack design considerations}
\begin{itemize}
	\item{Restricting Information Leaking}
	\item{Node/Directory protection and hardening}
	\item{Obfuscation/Diffusion}
	\item{Eliminating connection characteristics}
	\item{Error Detection and Fault tolerance}
\end{itemize}


\section{Overview of Tor} \label{tor}
\subsection{Features}
\begin{itemize}
	\item{Forward secrecy}
	\item{leaky-pipe circuit topology}
	\item{congestion control}
	\item{Directory authorities}
	\item{modular architecture}
	\item{rendezvous points and hidden services}
	\item{censorship resistance}
\end{itemize}
\subsection{Design Goals and assumptions}
\begin{itemize}
	\item{Goals:Deployability, Usability, Flexibility, Censorship resistance}
	\item{Assumptions: Non P2P, susceptible to end-to-end attacks, no traffic shaping, no protocol normalization}
\end{itemize}
\subsection{Tor Deconstruction}
\begin{itemize}
	\item{Cells}
	\item{TLS Details}
	\item{Circuits and Streams: Circuit \& stream construction}
	\item{Congestion control}
	\item{Bandwidth distribution and fairness}
\end{itemize}
\subsection{Hidden services}
\subsection{Directory authorities}
\subsection{Tor controller protocol}

\section{Attacks and Defenses} \label{tor_attack_defence}
\begin{itemize}
	\item{Passive Attacks}
	\subitem{traffic observation}
	\subitem{content observation}
	\subitem{time based co-relation attack}
	\subitem{message size based co-relation attack}
	\subitem{Site fingerprinting}
	
	\item{Active Attacks}
	\subitem{Compromised keys}
	\subitem{system intrusion, legal or extralegal coercion}
	\subitem{malicious recepient}
	\subitem{malicious onion proxy}
	\subitem{DoS for traffic redirection}
	\subitem{Watermarking attacks}
	\subitem{Replay attacks, smear attacks}
	\subitem{Protocol content tampering}
	\subitem{Network DoS}
	\subitem{Directory Attacks}
	\subitem{Rendezvous point attacks}
\end{itemize}

\section{Comparing Tor with other anonymizing networks} \label{comparison}
(Comparison with Tarzan, MorphMix, Crowds, Freedom Network, Herbivore)

\section{Open issues with Tor} \label{openissues}
\begin{itemize}
	\item{Scalibility}
	\item{Bandwidth categorization}
	\item{Node diversity}
	\item{Traffic shaping/padding}
	\item{Exit node caching}
	\item{Directory distribution}
\end{itemize}

\section{Conclusion} \label{conclusion}

\bibliographystyle{plain}
\bibliography{bibliography}
\end{document}
